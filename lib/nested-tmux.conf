# Nested Tmux Configuration for Claude Editor Workspace
# This config is used by Pattern 2 to create an isolated editing environment
# with its own command palette accessible via backtick

# Copy essential settings from user's config without sourcing it directly
# (sourcing could cause conflicts with Ctrl-B Ctrl-G binding)
set-option -g status-style 'bg=black fg=white'
set-option -g mouse on
set-window-option -g mode-keys vi
set-option -g default-terminal "screen-256color"
set-option -g base-index 1
set-window-option -g pane-base-index 1
set-option -g renumber-windows on

# Don't use a prefix for this session - keep default Ctrl-B inherited
# Instead use Ctrl+backtick as a direct keybinding (no prefix needed)

# Ctrl+backtick opens the command palette (FZF menu)
# The menu shows context-aware options based on $PROMPT variable
# Using -n flag means "no prefix required" (root key table)
bind-key -n 'C-`' run-shell "tmux display-popup -E -w 80% -h 60% 'claude-editor-menu'"

# Visual indicator that this is a nested session
set-option status-left "[CLAUDE] "
set-option status-left-length 20

# Keep pane/window numbering consistent with main config
set-option base-index 1
set-window-option pane-base-index 1
