# Claude Editor Hook - Context File Schema
#
# This file documents the structure of context files that Claude can write
# to control what happens when the user hits Ctrl-G in Claude Code.
#
# Save context files to: ~/.claude/editor-context.yaml

# Required: Which launcher to use
# Options: emacs, batcat, menu, tmux, custom
mode: emacs

# Optional: Files to open/display
files:
  - path: /absolute/path/to/file.js
    line: 42                           # Optional: line number to jump to
    description: "Bug location"        # Optional: description for display

  - path: /absolute/path/to/other.py
    line: 108
    description: "Related function"

# Optional: Commands to run (used by tmux launcher)
commands:
  - name: "Server logs"
    cmd: "tail -f /var/log/server.log"

  - name: "Tests"
    cmd: "npm test -- --watch"

# Optional: Menu options (used by menu launcher)
# If not specified, menu launcher uses files array
menu:
  - label: "Edit main file"
    action: emacs
    files:
      - path: /path/to/main.js
        line: 42

  - label: "View logs"
    action: batcat
    files:
      - path: /var/log/app.log

# Optional: Custom launcher script (for mode: custom)
custom_launcher: /path/to/custom-script.sh

# Optional: Metadata (ignored by launchers, useful for debugging)
created_by: claude
timestamp: 2025-10-29T14:30:00Z
session_id: abc123
context: "Debugging authentication bug in user service"

# ─────────────────────────────────────────────────────────────
# Example 1: Simple file editing
# ─────────────────────────────────────────────────────────────
# mode: emacs
# files:
#   - path: /home/alex/project/src/auth.js
#     line: 42

# ─────────────────────────────────────────────────────────────
# Example 2: Multiple files with descriptions
# ─────────────────────────────────────────────────────────────
# mode: emacs
# files:
#   - path: /home/alex/project/src/auth.js
#     line: 42
#     description: "Login function with bug"
#   - path: /home/alex/project/src/utils.js
#     line: 108
#     description: "Validation helper used by auth"
#   - path: /home/alex/project/tests/auth.test.js
#     description: "Tests to verify fix"

# ─────────────────────────────────────────────────────────────
# Example 3: Quick file preview with batcat
# ─────────────────────────────────────────────────────────────
# mode: batcat
# files:
#   - path: /home/alex/project/config/database.yml
#     line: 15
#     description: "Database connection config"

# ─────────────────────────────────────────────────────────────
# Example 4: Interactive menu
# ─────────────────────────────────────────────────────────────
# mode: menu
# files:
#   - path: /home/alex/project/src/user.js
#     line: 23
#     description: "User model"
#   - path: /home/alex/project/src/auth.js
#     line: 42
#     description: "Auth service"
#   - path: /home/alex/project/src/session.js
#     line: 67
#     description: "Session manager"

# ─────────────────────────────────────────────────────────────
# Example 5: Tmux with editor and logs
# ─────────────────────────────────────────────────────────────
# mode: tmux
# files:
#   - path: /home/alex/project/src/server.js
#     line: 100
# commands:
#   - name: "Server logs"
#     cmd: "tail -f /var/log/server.log | grep ERROR"
#   - name: "Tests"
#     cmd: "npm test -- --watch"
